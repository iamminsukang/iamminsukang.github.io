---
jupyter:
  colab:
  kernelspec:
    display_name: Python 3
    name: python3
  language_info:
    name: python
  nbformat: 4
  nbformat_minor: 0
---

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="YNWFPybqVY6p" outputId="46c733d3-53d9-4a9f-b25a-06b21bab5b34"}
``` python
from google.colab import drive
drive.mount('/content/drive')
```

::: {.output .stream .stdout}
    Mounted at /content/drive
:::
:::

::: {.cell .code id="zlyWB8tRVlfU"}
``` python
import os
import pandas as pd
import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt
import datetime
import dateutil
import warnings
import scipy.stats as stats
import math

warnings.filterwarnings('ignore')
```
:::

::: {.cell .markdown id="bEpZmg23DC2E"}
### 데이터 Import
:::

::: {.cell .code id="HsMqAoQGV39v"}
``` python
df_cvr = pd.read_csv("drive/MyDrive/Dataset/cvr_sample.csv")
```
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\",\"height\":206}" id="yYgJm4WgV5rM" outputId="db3c6f95-408e-4760-cf91-5cf9f9e36673"}
``` python
df_cvr.head()
```

::: {.output .execute_result execution_count="7"}
```{=html}

  <div id="df-1efe5ebd-da2a-4e1f-b287-a4bf8caf57d3" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>grp_nm</th>
      <th>timedeal_sale_dt</th>
      <th>impr_mbr_cnt</th>
      <th>clck_mbr_cnt</th>
      <th>ord_mbr_cnt</th>
      <th>icvr</th>
      <th>ccvr</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>psh</td>
      <td>2023-10-27</td>
      <td>1,633</td>
      <td>1,253</td>
      <td>145</td>
      <td>8.88%</td>
      <td>11.57%</td>
    </tr>
    <tr>
      <th>1</th>
      <td>psh</td>
      <td>2023-10-28</td>
      <td>1,262</td>
      <td>965</td>
      <td>121</td>
      <td>9.59%</td>
      <td>12.54%</td>
    </tr>
    <tr>
      <th>2</th>
      <td>psh</td>
      <td>2023-10-29</td>
      <td>1,097</td>
      <td>843</td>
      <td>119</td>
      <td>10.85%</td>
      <td>14.12%</td>
    </tr>
    <tr>
      <th>3</th>
      <td>psh</td>
      <td>2023-10-30</td>
      <td>2,398</td>
      <td>1,848</td>
      <td>261</td>
      <td>10.88%</td>
      <td>14.12%</td>
    </tr>
    <tr>
      <th>4</th>
      <td>psh</td>
      <td>2023-10-31</td>
      <td>2,460</td>
      <td>1,908</td>
      <td>213</td>
      <td>8.66%</td>
      <td>11.16%</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-1efe5ebd-da2a-4e1f-b287-a4bf8caf57d3')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-1efe5ebd-da2a-4e1f-b287-a4bf8caf57d3 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-1efe5ebd-da2a-4e1f-b287-a4bf8caf57d3');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-fe2475f5-3bce-4ca3-93db-3c32d82a0184">
  <button class="colab-df-quickchart" onclick="quickchart('df-fe2475f5-3bce-4ca3-93db-3c32d82a0184')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-fe2475f5-3bce-4ca3-93db-3c32d82a0184 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
```
:::
:::

::: {.cell .code id="2eJ3E0M5HCCu"}
``` python
df_cvr['icvr'] = df_cvr.icvr.str.rstrip('%').astype('float') / 100
df_cvr['ccvr'] = df_cvr.ccvr.str.rstrip('%').astype('float') / 100
```
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="vFHUDaKCHP8D" outputId="1fb1516a-8651-4cb7-9fa7-48ac56e55a9c"}
``` python
df_psh_icvr = df_cvr[df_cvr["grp_nm"] == "psh"].icvr
df_disp_icvr = df_cvr[df_cvr["grp_nm"] == "disp"].icvr

df_psh_icvr.count(), df_disp_icvr.count()
```

::: {.output .execute_result execution_count="15"}
    (73, 73)
:::
:::

::: {.cell .markdown id="Ec-B-vwADJw2"}
### 데이터 분포 확인

-   실제 데이터 분포를 확인할 필요가 있는지?
-   T 테스트 이전에 데이터에서 확인해야할 사항들은 뭐가 있는지?
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\",\"height\":484}" id="Ayn1GmWRvOpq" outputId="a13cdaba-69c9-4d2b-8070-fbdc1b4447e7"}
``` python
plt.figure(figsize = (10, 5))

sns.distplot(df_psh_icvr, hist=True, kde=True)
sns.distplot(df_disp_icvr, hist=True, kde=True)
```

::: {.output .execute_result execution_count="12"}
    <Axes: xlabel='icvr', ylabel='Density'>
:::

::: {.output .display_data}
![](vertopal_467034af5f264c0c916a0a15c40fde31/3ae633f680723cf4cca1678c5470343d8a256d99.png)
:::
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\",\"height\":468}" id="dIBtYkuwbnfE" outputId="09bc59b5-acb1-4378-d112-962981b7bedd"}
``` python
fig, axes = plt.subplots(2, 1)

sns.distplot(df_psh_icvr, hist=True, kde=True, ax=axes[0], color='blue')
sns.distplot(df_disp_icvr, hist=True, kde=True, ax=axes[1], color='orange')
```

::: {.output .execute_result execution_count="13"}
    <Axes: xlabel='icvr', ylabel='Density'>
:::

::: {.output .display_data}
![](vertopal_467034af5f264c0c916a0a15c40fde31/41b72ddb1c1078ff8edb4585dceaec28ed9a0409.png)
:::
:::

::: {.cell .code id="X6LQ0GHkwXlg"}
``` python
df = df_psh_icvr.count() - 1
```
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="DL4CZGJSzsJJ" outputId="36f3b8d2-89b2-4278-be2c-d1d2018aa66b"}
``` python
stats.t.stats(df_psh_icvr)
```

::: {.output .execute_result execution_count="28"}
    (array([inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf,
            inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf,
            inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf,
            inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf,
            inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf,
            inf, inf, inf, inf, inf, inf, inf, inf]),
     array([nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan,
            nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan,
            nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan,
            nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan,
            nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan,
            nan, nan, nan, nan, nan, nan, nan, nan]))
:::
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\",\"height\":468}" id="KNG-xB1azyUR" outputId="fe7080ab-aba7-4436-ca85-4e7ec01da9e9"}
``` python
sns.kdeplot(data=df_psh_icvr, color='blue', shade=True)
```

::: {.output .execute_result execution_count="16"}
    <Axes: xlabel='icvr', ylabel='Density'>
:::

::: {.output .display_data}
![](vertopal_467034af5f264c0c916a0a15c40fde31/92dffa164ce9341c4b8a4f1e2afe857be0a07dc2.png)
:::
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="J1uZQ5Haz6aV" outputId="9f93a789-c84b-45b0-8d55-13e32217c415"}
``` python
# df_sample = df_psh_icvr[0]
# df_sample
```

::: {.output .execute_result execution_count="18"}
    0.0888
:::
:::

::: {.cell .markdown id="YcRQiy7THHbl"}
### T-test

-   equal_var=False 일 때 자유도는 왜 바뀌는가?
-   실제 데이터포인트 확인 시, psh 그룹이 더 높은 전환율 수치에 분포하고
    있는 것을 확인하였는데\....이럴때는 그냥 one-sided 테스트로 진행하면
    되는건가?
-   실제 outlier를 제외하고 T test를 진행해도 무방한가?
-   qqplot으로 정규성을 확인하는 것인가?
    -   직관적으로 확인할 수는 있으나, 통계적 유의성을 확인할 수는 없어
        다른 정규성 검정 테스트를 수행하는 것이 권장
    -   <https://signature95.tistory.com/14>
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="VyBJBNBh1E-9" outputId="40117cb6-9106-46a3-97b8-c23052505fbd"}
``` python
# 등분산성(False)
stats.ttest_ind(df_psh_icvr, df_disp_icvr, equal_var=False)
```

::: {.output .execute_result execution_count="19"}
    TtestResult(statistic=22.2039556173556, pvalue=2.913585859042167e-38, df=89.91097271380788)
:::
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="R5dMSVeivHrP" outputId="b6102b77-6c50-448d-ffda-54bad9e20e22"}
``` python
# 등분산성(True)
stats.ttest_ind(df_psh_icvr, df_disp_icvr, equal_var=True)
```

::: {.output .execute_result execution_count="30"}
    TtestResult(statistic=22.2039556173556, pvalue=2.3992597500500388e-48, df=144.0)
:::
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="XtnBbfxz1yz-" outputId="8b60f391-aa0c-4c23-c8b8-11e101e24dbd"}
``` python
# two-sided
stats.ttest_ind(df_psh_icvr, df_disp_icvr, equal_var=True, alternative='two-sided')
```

::: {.output .execute_result execution_count="31"}
    TtestResult(statistic=22.2039556173556, pvalue=2.3992597500500388e-48, df=144.0)
:::
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\",\"height\":487}" id="5zYplINB2IpO" outputId="6e00c95c-0045-475b-8995-215cb95538c0"}
``` python
plt.figure(figsize=(5,5))
stats.probplot(df_psh_icvr, dist=stats.norm, plot=plt)
plt.show()
```

::: {.output .display_data}
![](vertopal_467034af5f264c0c916a0a15c40fde31/87412b49004577d9bd55cc4960b6a82bafc69dea.png)
:::
:::

::: {.cell .markdown id="yvFOvzJLJYjL"}
### 정규성 검정

-   KS 테스트
-   Shapiro 테스트
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="Mq-l-pOC8oVy" outputId="5d5ba9cd-fbdb-4163-80cd-d8fb17092eb9"}
``` python
stats.kstest(df_psh_icvr, 'norm', args=(df_psh_icvr.mean(), df_psh_icvr.var()**0.5))
```

::: {.output .execute_result execution_count="40"}
    KstestResult(statistic=0.14815384043857993, pvalue=0.07303878604899103, statistic_location=0.12539999999999998, statistic_sign=1)
:::
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="3nlPn6Ie-F1n" outputId="2496557b-15fc-4d79-d849-5fb5a5505cd5"}
``` python
stats.kstest(df_disp_icvr, 'norm', args=(df_disp_icvr.mean(), df_psh_icvr.var()**0.5))
```

::: {.output .execute_result execution_count="42"}
    KstestResult(statistic=0.36071078208834045, pvalue=5.161707104846125e-09, statistic_location=0.0085, statistic_sign=-1)
:::
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="1hmBSPMn-L5o" outputId="02ce0a4f-0b32-426f-a6af-197027e419ac"}
``` python
stats.shapiro(df_psh_icvr)
```

::: {.output .execute_result execution_count="44"}
    ShapiroResult(statistic=0.853461742401123, pvalue=5.61707793167443e-07)
:::
:::

::: {.cell .markdown id="H6tewPKFJ1pR"}
### 등분산성 테스트

-   Bartlett 테스트
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="AfXCp5RCJ6JV" outputId="1f1cbd0f-a47c-43da-e040-d7f21befbe70"}
``` python
stats.bartlett(df_psh_icvr, df_disp_icvr)
```

::: {.output .execute_result execution_count="21"}
    BartlettResult(statistic=65.8017119936277, pvalue=4.986490096271136e-16)
:::
:::

::: {.cell .markdown id="KeMlB5GTJ9ih"}
### Normal Dist 테스트
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\",\"height\":448}" id="2FbbxgSt-va-" outputId="265c9239-1621-41c4-cf34-0812b0e92ffe"}
``` python
df_norm = np.random.normal(loc=0, scale=1, size=1000)
sns.kdeplot(df_norm)
```

::: {.output .execute_result execution_count="49"}
    <Axes: ylabel='Density'>
:::

::: {.output .display_data}
![](vertopal_467034af5f264c0c916a0a15c40fde31/20d3d2c9a9a31f39f07cd4dd5f58e0132ed802d8.png)
:::
:::

::: {.cell .code id="Io1xOVd9KSO3"}
``` python
mu = df_norm.mean()
var = df_norm.var()
sigma = var**0.5
x = np.linspace(mu - 3 * sigma, mu + 3 * sigma, 1000)
```
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\",\"height\":448}" id="s52tsBmWLVS8" outputId="adda58b2-e5dc-4064-f899-1eb04f94a580"}
``` python
sns.kdeplot(x)
```

::: {.output .execute_result execution_count="51"}
    <Axes: ylabel='Density'>
:::

::: {.output .display_data}
![](vertopal_467034af5f264c0c916a0a15c40fde31/90fc1ff3d5a4f02e2ee6b660e4cf26db69970d32.png)
:::
:::

::: {.cell .code id="v_9xWY_SLqsI"}
``` python
stats.probplot(df_norm, dist=stats.norm, plot=plt)
```
:::

::: {.cell .markdown id="e8C-4MExKG76"}
### CDF, PDF 이해하기

-   CDF: 이미 정의된 분포의 x축에 해당하는 statistic(통계값)을 Input으로
    해당 통계값까지의 확률을 Output으로 출력하는 함수
    -   예시: 내가 원하는 t statistic 수치까지의 확률을 계산하고 싶을 때
        사용
-   PDF: 이미 정의된 분포에서 특정 확률(분포의 면적)을 Input으로
    통계값을 Output으로 출력하는 함수
    -   예시: 내가 원하는 확률을 만족하는 t statistic 수치를 알고 싶을
        때 사용
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="y43-EIjUzUph" outputId="0cc0654c-e2a8-4ba6-d9f0-df4f901dd360"}
``` python
stats.t.cdf(2.574, df)
```

::: {.output .execute_result execution_count="76"}
    0.9939446714547705
:::
:::

::: {.cell .code id="W7ylyZ-B2SSr"}
``` python
df_psh_icvr_pdf = stats.t.pdf(df_psh_icvr, df)
```
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\",\"height\":468}" id="GVTWZZkv5e-n" outputId="ed12284c-fbef-4ac1-a747-a2c8d8dfb996"}
``` python
fig, axes = plt.subplots(2, 1)

sns.distplot(df_psh_icvr_pdf, kde=True, hist=True, ax = axes[0])
sns.distplot(df_psh_icvr, kde=True, hist=True, ax = axes[1])
```

::: {.output .execute_result execution_count="88"}
    <Axes: xlabel='icvr', ylabel='Density'>
:::

::: {.output .display_data}
![](vertopal_467034af5f264c0c916a0a15c40fde31/d00f4f456f36948c08ffb0d075edded64ec916ee.png)
:::
:::

::: {.cell .code id="oPLR9OtM5wRu"}
``` python
df_interval = stats.t.interval(df_psh_icvr, df)[0]
```
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\",\"height\":468}" id="wOxGTzeE6cI0" outputId="38391fe9-f3b0-4b4e-d7c5-b1a00bb56b5d"}
``` python
fig, axes = plt.subplots(3, 1)

sns.distplot(df_psh_icvr_pdf, kde=True, hist=True, ax=axes[0])
sns.distplot(df_interval, kde=True, hist=True, ax=axes[1])
sns.distplot(df_psh_icvr, kde=True, hist=True, ax=axes[2])
```

::: {.output .execute_result execution_count="94"}
    <Axes: xlabel='icvr', ylabel='Density'>
:::

::: {.output .display_data}
![](vertopal_467034af5f264c0c916a0a15c40fde31/edee4ee3e289f9646bf66aca411ed2c92a23834b.png)
:::
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="nlJgzKUk6pK3" outputId="4b6eb11c-8804-4902-91dd-64888aed4f0c"}
``` python
sigma = df_psh_icvr.std() / math.sqrt(df_psh_icvr.count())
sigma
```

::: {.output .execute_result execution_count="97"}
    0.004457473227708566
:::
:::

::: {.cell .code colab="{\"base_uri\":\"https://localhost:8080/\"}" id="7lzp3uuI86LH" outputId="9873ccd1-e527-4609-9209-89306cdebd47"}
``` python
stats.t.interval(0.95,
                 df = df,
                 loc = df_psh_icvr.mean(),
                 scale = sigma)
```

::: {.output .execute_result execution_count="98"}
    (0.11823473746810627, 0.1360063584223047)
:::
:::

::: {.cell .markdown id="uQzkXiMw9G1O"}
궁금한 사항

1.  T 테스트로 AB 테스트를 할 경우 두 샘플의 sampling mean의 분포를
    비교하는게 목적인건지?
2.  샘플 추출한 데이터포인트들의 실제 분포와 상관없이 T 테스트를 사용할
    수 있는건지?
3.  정규성, 등분산성을 항상 만족해야 t 테스트를 할 수 있는건지?
4.  n \>= 30 이상인 경우, 별도의 정규성 테스트를 하지 않아도 정규성을
    만족한다고 보고 t 테스트를 한다는데, 실제 n \>= 30일 때 정규성
    테스트를 통과하지 못한 경우 그대로 t 테스트를 해도 되는건지?
5.  정규성을 만족하는지 볼 때, qqplot으로도 확인한다고 하는데, 실제
    qqplot에서 정규분포와 어느정도 차이 이내로 들어와야 정규성을
    만족한다고 보는건지?
:::

::: {.cell .code id="ovXwaJ_aCzC1"}
``` python
```
:::
